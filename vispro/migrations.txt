
# âœ… 1. `makemigrations`

### âž¤ Command

```bash
python manage.py makemigrations
```

### âž¤ Use

Creates migration files based on model changes.

### âž¤ What it does

It compares:

ðŸ‘‰ current models
vs
ðŸ‘‰ previous migrations

and generates new migration files.

### âž¤ Example

```bash
python manage.py makemigrations
```

After changing a model:

```python
class Book(models.Model):
    title = models.CharField(max_length=200)
```

Django creates:

```
0002_add_title_field.py
```

---

# âœ… 2. `makemigrations <app_name>`

### âž¤ Command

```bash
python manage.py makemigrations blog
```

### âž¤ Use

Create migrations for only one app.

### âž¤ Example

```bash
python manage.py makemigrations accounts
```

---

# âœ… 3. `makemigrations --name`

### âž¤ Command

```bash
python manage.py makemigrations blog --name add_price_field
```

### âž¤ Use

Give a custom name to the migration.

---

# âœ… 4. `makemigrations --empty`

### âž¤ Command

```bash
python manage.py makemigrations blog --empty
```

### âž¤ Use

Create an empty migration.

### âž¤ Why needed

When you want to write:

* custom data migration
* RunPython
* RunSQL

### âž¤ Example

```bash
python manage.py makemigrations blog --empty --name insert_default_data
```

---

# âœ… 5. `makemigrations --merge`

### âž¤ Command

```bash
python manage.py makemigrations --merge
```

### âž¤ Use

Fix migration conflicts.

### âž¤ When?

When two developers create migrations in parallel.

---

# âœ… 6. `migrate`

### âž¤ Command

```bash
python manage.py migrate
```

### âž¤ Use

Apply all unapplied migrations to the database.

### âž¤ Example

After `makemigrations`:

```bash
python manage.py migrate
```

---

# âœ… 7. `migrate <app_name>`

### âž¤ Command

```bash
python manage.py migrate blog
```

### âž¤ Use

Apply migrations only for one app.

---

# âœ… 8. `migrate <app> <migration_number>`

### âž¤ Command

```bash
python manage.py migrate blog 0003
```

### âž¤ Use

Move database to a specific migration state.

---

# âœ… 9. Rollback migration

### âž¤ Command

```bash
python manage.py migrate blog 0002
```

### âž¤ Use

Rollback from 0003 to 0002.

---

# âœ… 10. Migrate app to ZERO

### âž¤ Command

```bash
python manage.py migrate blog zero
```

### âž¤ Use

Remove all tables of that app.

âš  Very dangerous in production.

---

# âœ… 11. `showmigrations`

### âž¤ Command

```bash
python manage.py showmigrations
```

### âž¤ Use

Show all migrations and their applied status.

---

# âœ… 12. `showmigrations <app>`

### âž¤ Command

```bash
python manage.py showmigrations blog
```

---

# âœ… 13. `showmigrations --list`

### âž¤ Command

```bash
python manage.py showmigrations --list
```

(Shows applied and unapplied clearly)

---

# âœ… 14. `sqlmigrate`

### âž¤ Command

```bash
python manage.py sqlmigrate blog 0001
```

### âž¤ Use

See the SQL Django will execute.

### âž¤ Example

```bash
python manage.py sqlmigrate accounts 0002
```

Very useful for:

* debugging
* learning what Django really runs

---

# âœ… 15. `migrate --plan`

### âž¤ Command

```bash
python manage.py migrate --plan
```

### âž¤ Use

Preview which migrations will run.

No database changes.

---

# âœ… 16. `migrate --fake`

### âž¤ Command

```bash
python manage.py migrate blog 0004 --fake
```

### âž¤ Use

Mark migration as applied without executing SQL.

### âž¤ When used?

When DB is already manually updated.

---

# âœ… 17. `migrate --fake-initial`

### âž¤ Command

```bash
python manage.py migrate --fake-initial
```

### âž¤ Use

When tables already exist and you are introducing Django migrations for the first time.

Very common when:

* connecting Django to existing DB

---

# âœ… 18. `migrate --database`

### âž¤ Command

```bash
python manage.py migrate --database=replica
```

### âž¤ Use

Apply migrations to a specific database (multi-DB projects).

---

# âœ… 19. `migrate --run-syncdb`

### âž¤ Command

```bash
python manage.py migrate --run-syncdb
```

### âž¤ Use

Create tables for apps that do not have migrations.

(rare but useful in legacy projects)

---

# âœ… 20. `squashmigrations`

### âž¤ Command

```bash
python manage.py squashmigrations blog 0001 0012
```

### âž¤ Use

Combine many migrations into one.

### âž¤ Why?

For:

* performance
* cleaner history
* production maintenance

---

# âœ… 21. `makemigrations --check`

### âž¤ Command

```bash
python manage.py makemigrations --check
```

### âž¤ Use

Check if there are model changes that are not migrated.

Used in CI / pipeline.

---

# âœ… 22. `makemigrations --dry-run`

### âž¤ Command

```bash
python manage.py makemigrations --dry-run
```

### âž¤ Use

Show what would be created â€” without creating files.

---

# âœ… 23. `migrate --verbosity`

### âž¤ Command

```bash
python manage.py migrate --verbosity 3
```

### âž¤ Use

Control output detail.

---

# âœ… 24. `migrate --noinput`

### âž¤ Command

```bash
python manage.py migrate --noinput
```

### âž¤ Use

Run migrations without interactive prompts (CI/CD).

---

# ðŸ§  Very important real-world flow (remember this)

ðŸ‘‰ After changing models

```
makemigrations
migrate
```

Always.

---

# ðŸ§  Important rules (Django interview level)

### âœ” Never edit a migration that is already applied in production.

### âœ” Never delete migrations blindly.

### âœ” Always check:

```bash
python manage.py showmigrations
```

before rollback.

---

# âœ… Quick summary table

| Command                  | Purpose                  |
| ------------------------ | ------------------------ |
| makemigrations           | create migration files   |
| makemigrations app       | only one app             |
| makemigrations --empty   | manual migration         |
| makemigrations --merge   | resolve conflicts        |
| migrate                  | apply migrations         |
| migrate app              | apply only app           |
| migrate app 000X         | go to specific state     |
| migrate app zero         | delete all tables of app |
| showmigrations           | view status              |
| sqlmigrate               | show SQL                 |
| migrate --plan           | preview                  |
| migrate --fake           | mark as applied          |
| migrate --fake-initial   | existing tables          |
| migrate --database       | multi DB                 |
| migrate --run-syncdb     | no-migration apps        |
| squashmigrations         | merge migrations         |
| makemigrations --check   | CI safety                |
| makemigrations --dry-run | preview only             |

---

ðŸ‘‰ Next, if you want, I can teach you:

**How Django internally tracks migrations using the `django_migrations` table**
(very important for your backend interview preparation).
